{% extends 'layout.html' %} {% block content %}
<div class="container"></div>
{% endblock %}

<!-- Welcome -->
<section class="section welcome" id="welcome">
  {% if 'user_id' in session %}
    <h2>Welcome, {{ session['username'] }}!</h2>
    <p>Browse through all the youngest incremental games ever.</p>
    <div class="auth-buttons">
      <a href="#games">
        <button>Explore Games</button>
      </a>
    </div>
  {% else %}
    <h2>Welcome</h2>
    <p>Browse through all the youngest incremental games ever.</p>
    <div class="auth-buttons">
      <a href="{{ url_for('signup') }}">
        <button>Sign Up</button>
      </a>
      <a href="{{ url_for('login') }}">
        <button>Login</button>
      </a>
    </div>
  {% endif %}
</section>


<!-- Games -->
<h2><a href="{{ url_for('recommended_games') }}">Recommended</a></h2>
<section class="section games">
  <div class="games-container">
    {% for game in recommended %}
      <a href="{{ url_for('game_detail', game_id=game['game_id']) }}" class="game-card">
        <img src="{{ game['cover_image_url'] }}" alt="{{ game['title'] }} Cover">
        <h3>{{ game['title'] }}</h3>
        <p>{{ game['description'][:120] }}...</p>
        <small>
          Release: {{ game['release_date'] }}<br>
          Dev: {{ game['developer'] }} | Pub: {{ game['publisher'] }}
        </small>
      </a>
    {% endfor %}
  </div>
</section>

<h2><a href="{{ url_for('new_games') }}">New Releases</a></h2>
<section class="section games">
  <div class="games-container">
    {% for game in new_releases %}
      <a href="{{ url_for('game_detail', game_id=game['game_id']) }}" class="game-card">
        <img src="{{ game['cover_image_url'] }}" alt="{{ game['title'] }} Cover">
        <h3>{{ game['title'] }}</h3>
        <p>{{ game['description'][:120] }}...</p>
        <small>
          Release: {{ game['release_date'] }}<br>
          Dev: {{ game['developer'] }} | Pub: {{ game['publisher'] }}
        </small>
      </a>
    {% endfor %}
  </div>
</section>

<h2><a href="{{ url_for('trending_games') }}">Trending</a></h2>
<section class="section games">
  <div class="games-container">
    {% for game in trending %}
      <a href="{{ url_for('game_detail', game_id=game['game_id']) }}" class="game-card">
        <img src="{{ game['cover_image_url'] }}" alt="{{ game['title'] }} Cover">
        <h3>{{ game['title'] }}</h3>
        <p>{{ game['description'][:120] }}...</p>
        <small>
          Release: {{ game['release_date'] }}<br>
          Dev: {{ game['developer'] }} | Pub: {{ game['publisher'] }}
        </small>
      </a>
    {% endfor %}
  </div>
</section>

<div class="auth-buttons">
  {% if 'user_id' in session %}
    <p>Welcome, <strong>{{ session['username'] }}</strong>!</p>
    <a href="{{ url_for('profile') }}">
      <button>Profile</button>
    </a>
    <a href="{{ url_for('logout') }}">
      <button>Logout</button>
    </a>
  {% else %}
    <a href="{{ url_for('signup') }}">
      <button>Sign Up</button>
    </a>
    <a href="{{ url_for('login') }}">
      <button>Login</button>
    </a>
  {% endif %}
</div>
